---
title: "[íšŒê³ ] ìˆ˜ì½”ë”©xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬xìœ ë°ë¯¸ Next.js í”„ë¡œì íŠ¸ ìº í”„ 2ì£¼ì°¨"
date: 2024-06-07 19:00:00 +09:00
categories: [Dev Journal, "2024"]
image: "/assets/img/post/2024-06-07-sniper-factory-week02.png"
tags:
  [
    ìˆ˜ì½”ë”©,
    ìŠ¤ë‚˜ì´í¼ íŒ©í† ë¦¬,
    ìœ ë°ë¯¸,
    ì›…ì§„ì”½í¬ë¹…,
    sucoding,
    sniper factory,
    udemy,
    woongjin thinkbig,
    ì¸ì‚¬ì´ë“œì•„ì›ƒ,
    Next.js
  ]
---

## Liked

ì´ë²ˆ ì£¼ì—” React.jsì˜ rerenderingê³¼ memoization, ìƒ!íƒœ!ê´€!ë¦¬! ë“± ì¤‘ìš”í•œ ë‚´ìš©ì„ ì†ë„ê° ìˆê²Œ í›‘ì—ˆê³ ,<br/>
node.jsë¡œ ê°„ë‹¨í•œ ì„œë²„ë„ ë§Œë“¤ì–´ë³¼ ìˆ˜ ìˆì—ˆìœ¼ë©°,<br/>
React-router-dom, Zustand, Nextì˜ App Routerì— ëŒ€í•´ì„œë„ í†ºì•„ë³´ì•˜ë‹¤.<br/>
ì¤‘ê°„ì¤‘ê°„ ì‹¤ë¬´ í™œìš© ì˜ˆì‹œë„ ì•Œë ¤ì£¼ì…¨ëŠ”ë°, ê·¸ëŸ° ê²Œ ê°œì¸ì ìœ¼ë¡œ ë„ˆë¬´ ë‹¬ë‹¬í–ˆê³  ê¼¼ê¼¼íˆ í¡ìˆ˜í•˜ë ¤ í–ˆë‹¤.ğŸ¯<br/>

## Learned

### React.js ì»´í¬ë„ŒíŠ¸ëŠ” ì–¸ì œ ë¦¬ë Œë”ë§ ë˜ëŠ”ê°€

- "íƒì¡°í•˜ê³  ìˆëŠ” ìƒíƒœ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ"
- ë³µì¡í•˜ê²Œ ìƒê°í–ˆì—ˆëŠ”ë° í¬ê²Œ ë³´ë©´ ì´ê²ƒ ë¿ì´ì—ˆë‹¤.
- ë¦¬ë Œë”ë§ ë²”ìœ„ : ìµœí•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê¹Œì§€
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— í•„ì—°ì ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ë„ ë§ì€ ê²ƒì´ë‹¤.
- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ì¤„ì´ë ¤ë©´?
  - stateë¥¼ ê°€ì§€ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ê°€ì¥ í•˜ìœ„ì— ë‘ì!
  - ê·¸ê²Œ ì•ˆëœë‹¤ë©´? ë©”ëª¨ì´ì œì´ì…˜ì„ í†µí•´ ìµœì í™” í•˜ì!

### ë¦¬ìŠ¤íŠ¸(ìƒìœ„ ì»´í¬ë„ŒíŠ¸)ê°€ ê¸¸ ë•Œ, ì•„ì´í…œ(í•˜ìœ„ ì»´í¬ë„ŒíŠ¸)ì„ ë©”ëª¨ì´ì œì´ì…˜ í•´ì•¼í•˜ëŠ”ê°€?

**listê°€ ë°”ë€Œë©´ itemë„ ë¦¬í”„ë ˆì‹œ ë˜ì–´ì•¼ í•˜ëŠ” ê±° ì•„ë‹Œê°€? ì™œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•´ì•¼ í• ê¹Œ**

> - ì•„ì´í…œ ì…ì¥ì—ì„œ ë‚˜ëŠ” ë‚´ê°€ ê°€ì§„ itemì´ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§ í•˜ê³ ì‹¶ë‹¤! ë³€í™”ê°€ ì—†ëŠ”ë° ì™œ ë‚´ê°€ ë¦¬ë Œë”ë§ í•´ì•¼í•¨! ë‚˜ëŠ” ë‚˜ì˜ item ë°ì´í„°ë¥¼ ì´ë¯¸ ê°€ì§€ê³  ìˆë‹¤!
>   - item ìì‹ ì´ ë°”ë€ŒëŠ” ê²½ìš°ë€? ë‚´ê°€ ê°€ì§„ itemì„ ìˆ˜ì •í•  ë•Œ! tem ìì‹ ì´ ë°”ë€Œì§€ ì•ŠëŠ” ê²½ìš°ë€? listì— (ë‚´ê°€ ì•„ë‹Œ ë‹¤ë¥¸) itemì´ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ê±°ë‚˜ ë³€ê²½ë  ë•Œ!
>     **ë¦¬ìŠ¤íŠ¸ê°€ ê¸¸ë©´ ë¬´ìŠ¨ ìƒê´€ì¼ê¹Œ?**
>     ê¸¸ì´ê°€ ê¸´ ë¦¬ìŠ¤íŠ¸ë¼ë©´ ê·¸ ë§Œí¼ ë¦¬ë Œë”ë§ ë°©ì§€ íš¨ê³¼ê°€ í¬ê¸° ë•Œë¬¸ì— (ë©”ëª¨ì´ì œì´ì…˜ ìì²´ê°€ ë¬´ê±°ìš¸ì§€ë¼ë„) ë©”ëª¨ì´ì œì´ì…˜ í•  ì˜ë¯¸ë‚˜ íš¨ìš©ì´ ìˆë‹¤.
>     **ë©”ëª¨ì´ì œì´ì…˜ì„ ì•ˆí•˜ë©´ ë¦¬ë Œë”ë§ì´ ì™œ ë˜ëŠ”ê±¸ê¹Œ?**
> - ì•„ì´í…œì€ ë¦¬ìŠ¤íŠ¸ì˜ ìƒíƒœ(list[index])ë¥¼ propìœ¼ë¡œ ì „ë‹¬ ë°›ê³  ìˆì„ ê²ƒì´ë‹¤.
> - ë¦¬ìŠ¤íŠ¸ì˜ ìƒíƒœê°€ setState ë˜ë©´ -> ë¦¬ìŠ¤íŠ¸ ë¦¬ë Œë”ë§ -> í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì¸ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸ì—ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒëœë‹¤.
>   ê·¸ëŸ¼ **ì–´ë–»ê²Œ ë©”ëª¨ì´ì œì´ì…˜ í•˜ë©´ ë ê¹Œ?**
> - ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê³  ì‹¶ì€ itemì„ ë©”ëª¨ì´ì œì´ì…˜ í•œë‹¤.
>   **êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ?**
>
> 1. itemì„ React.memo()ë¡œ ê°ì‹¼ë‹¤.
> 2. itemì´ ë°›ëŠ” prop ì¤‘ì— ì°¸ì¡° ìë£Œí˜•ì´ ìˆì„ ê²½ìš°ì—ëŠ”, ë¦¬ìŠ¤íŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ë©´ í•¨ìˆ˜ë‚˜ ê°ì²´ê°€ ì‹¤ì œë¡œ ì¬ìƒì„±ë  í•„ìš”ê°€ ì—†ì–´ë„ ì¬ìƒì„±ë˜ì–´ì„œ ë¶ˆí•„ìš”í•˜ê²Œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸(ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ)ê°€ ë¦¬ë Œë”ë§ ëœë‹¤. ì¦‰ ë©”ëª¨ì´ì œì´ì…˜ ì‹¤íŒ¨! -> ì´ ê²½ìš°ì—ëŠ” í•´ë‹¹ ì°¸ì¡° ìë£Œí˜•ë„ ë©”ëª¨ì´ì œì´ì…˜ì„ í•´ì•¼í•œë‹¤.

### TodoListë¡œ ë°˜ë³µ ìƒì„±ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜ ì „í›„ ì°¨ì´ ì‚´í´ë³´ê¸°

**ë©”ëª¨ì´ì œì´ì…˜ X**

```
Todo
ã„´TodoList
ã„´ã„´TodoItem
```

> ìœ„ì™€ ê°™ì€ êµ¬ì¡°ì—ì„œ 1ë²ˆ TodoItemì„ í´ë¦­í•˜ë©´ -> (Todoì˜ listê°€ ë³€í™” -> Todo ë¦¬ë Œë”ë§ -> TodoList ë¦¬ë Œë”ë§ -> TodoItem ëª¨~ë‘ê°€ ë¦¬ë Œë”ë§ ë˜ê¸° ë•Œë¬¸ì—) ë‹¤ë¥¸ 2ë²ˆ, 3ë²ˆ, 4ë²ˆ, 5ë²ˆë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•œë‹¤.

**ë©”ëª¨ì´ì œì´ì…˜ ë°©ë²•**

1. TodoItem ì»´í¬ë„ŒíŠ¸ë¥¼ React.memoë¡œ ê°ì‹¼ë‹¤.

```ts
export default React.memo(TodoListItem);
```

2. (TodoListê°€ ë¦¬ë Œë”ë§ ë˜ë©´ì„œ TodoItemì— propsë¡œ ë‚´ë ¤ì£¼ëŠ” í•¨ìˆ˜ë“¤ë„ ì¬ìƒì„± ë˜ì–´ ë²„ë ¤ì„œ) TodoItem ë©”ëª¨ì´ì œì´ì…˜ì´ ì‹¤íŒ¨í•˜ê¸° ë•Œë¬¸ì—, propsë¡œ ë‚´ë ¤ì£¼ëŠ” í•¨ìˆ˜ë“¤ë„ useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜ì„ í•´ì¤€ë‹¤.

### Context APIì˜ ë‹¨ì ê³¼ ë³´ì™„ ë°©ë²•

#### Contextê°€ ë°”ë€Œë©´ (êµ¬ë…í•˜ë“  í•˜ì§€ ì•Šë“ ) ë˜í•‘í•˜ê³  ìˆëŠ” ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ëœë‹¤.

**ë³´ì™„ ë°©ë²•**

```ts
import Home from "./components/Home";
import Navbar from "./components/Navbar";
import { CounterProvider } from "./components/CountContext";

function App() {
  console.log("App");

  return (
    <>
      <CounterProvider>
        <Navbar />
        <Home />
      </CounterProvider>
    </>
  );
}

export default App;
```

```ts
import { createContext, useState } from "react";

type CountContextType = {
  count: number;
  setCount: React.Dispatch<React.SetStateAction<number>>;
};

const initialCount = {
  count: 0,
  setCount: () => {}
};

export const CountContext = createContext<CountContextType>(initialCount); // ì´ˆê¸° ê°’

export const CounterProvider = ({
  children
}: {
  children: React.ReactNode;
}) => {
  const [count, setCount] = useState(0);

  return (
    <CountContext.Provider value={{ count, setCount }}>
      {children}
    </CountContext.Provider>
  );
};
```

```ts
import { useContext } from "react";
import { CountContext } from "./CountContext"; // ë³€ê²½

const Child1 = () => {
  const countContext = useContext(CountContext);
  return <h1>Child1 Count: {countContext.count}</h1>;
};

export default Child1;
```

> ì•± ì „ì²´ë¥¼ ê°ì‹¸ì§€ ì•Šê³ , í•´ë‹¹ ì»¨í…ìŠ¤íŠ¸ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ê°ì‹¸ë„ë¡ í•˜ë©´ ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ë…í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤. <br>

### React-router-domì˜ í•´ì‹œ ë¼ìš°í„° vs ë¸Œë¼ìš°ì € ë¼ìš°í„°

- í•´ì‹œ ë¼ìš°í„°: URLì— (#)ê°€ ë¶™ì–´ì„œ êµ¬ì„±ë˜ëŠ” í˜•ì‹(https://www.example.com/#/login)
- ë¸Œë¼ìš°ì € ë¼ìš°í„°: URLì— ìŠ¬ë˜ì‹œ(/)ê°€ ë¶™ì–´ì„œ êµ¬ì„±ë˜ëŠ” í˜•ì‹(https://www.example.com/login)
- ìš°ë¦¬ì—ê²Œ ìµìˆ™í•œ ë¼ìš°í„° ë°©ì‹ì€ ë¸Œë¼ìš°ì € ë¼ìš°í„° ë°©ì‹ì´ë‹¤.

### Next.jsì˜ Params

- params PropsëŠ” ë””í´íŠ¸ë¡œ ì „ë‹¬ëœë‹¤.

```js
export default function Page({ params, searchParams }) {
  const { id } = params;
  const { option1, option2 } = searchParams;
  return (
    <>
      <h1>id: {id}</h1> // 1<p>option1 : {option1} </p> // hi
      <p>option2 : {option2}</p> // bye
    </>
  );
}
```

> > `/1?option1=hi&option2=bye`

### Next.jsì˜ í¬ê´„ì  ê²½ë¡œ (catch all segments)

```
page1
ã„´page2
ã„´page3
ã„´[...slug]
```

> - ì´ëŸ° êµ¬ì¡°ë¼ë©´ `/page1/page2`, `/page1/page3` ì™¸ì— `/parent/anything`ìœ¼ë¡œ ì ‘ê·¼ ì‹œ anythingì´ ë­ë“  ë‹¤ `/[...slug]/pages.tsx`ê°€ ë Œë”ë§ëœë‹¤.
> - ì–´ë–¤ ê²½ìš°ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ì§€ëŠ” ì•„ì§ ì˜ ëª¨ë¥´ê² ë‹¤!

```ts
const Slug = ({
  params
}: {
  params: {
    slug: string[];
  };
}) => {
  // page1 ì´í›„ì˜ ê²½ë¡œê°€ slugì— ë°°ì—´ íƒ€ì…ìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.
  // ex) /page1/1/user/1 -> [1, user, 1]
  return (
    <>
      <h1>Slug Component</h1>
    </>
  );
};
export default Slug;
```

---

ë³¸ í›„ê¸°ëŠ” [ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° ê³¼ì •(B-log) ë¦¬ë·°ë¡œ ì‘ì„± ë˜ì—ˆìŠµë‹ˆë‹¤.

#ìœ ë°ë¯¸ #udemy #ì›…ì§„ì”½í¬ë¹… #ìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬ #ì¸ì‚¬ì´ë“œì•„ì›ƒ #ë¯¸ë˜ë‚´ì¼ì¼ê²½í—˜ #í”„ë¡œì íŠ¸ìº í”„ #ë¶€íŠ¸ìº í”„ #Next.js #í”„ë¡ íŠ¸ì—”ë“œê°œë°œìì–‘ì„±ê³¼ì • #ê°œë°œìêµìœ¡ê³¼ì •
