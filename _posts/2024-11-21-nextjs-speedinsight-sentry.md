---
title: "[Next.js] Next.js에서 Vercel Speed Insight, Sentry 설정"
date: 2024-11-21 13:00:00 +09:00
categories: [Tech Notes, Frontend]
image: "/assets/img/post/2024-11-21-nextjs-speedinsight-sentry.gif"
tags: [Frontend, CSS, Next.js, Vercel Speed Insight, Sentry]
---

## Vercel Speed Insights

### 사전 준비

#### 1. 레포지토리 생성

#### 2. 로컬에 Clone

#### 3. `npx create-next-app@latest .` 명령어로 Next.js 앱 생성

- turbo 설정은 no

#### 4. Push

#### 5. Vercel에 배포

#### 6. Vercel CLI 설치한 적 없으면, `npm install -g vercel`

### Vercel Speed Insights 연결

#### 1. `npm install @vercel/speed-insights`

#### 2. layout.tsx 수정

```ts
import type { Metadata } from "next";
import localFont from "next/font/local";
import "./globals.css";
import { SpeedInsights } from "@vercel/speed-insights/next";

const geistSans = localFont({
  src: "./fonts/GeistVF.woff",
  variable: "--font-geist-sans",
  weight: "100 900"
});
const geistMono = localFont({
  src: "./fonts/GeistMonoVF.woff",
  variable: "--font-geist-mono",
  weight: "100 900"
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app"
};

export default function RootLayout({
  children
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <head>
        <title>Next.js</title>
      </head>
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
        <SpeedInsights />
      </body>
    </html>
  );
}
```

#### 3. `vercel deploy`

```
? Set up and deploy “~/Desktop/1.Dev/hayden/2024-codeit/sample-ci-cd”? yes
? Which scope should contain your project? haydendevk's projects
? Found project “haydendevks-projects/sample-ci-cd”. Link to it? yes
```

#### 4. `vercel deploy` 한번 더

#### 5. Vercel의 Speed Insights 페이지에서 기능 enable

- 무료 계정의 경우 1개 프로젝트만 사용할 수 있다.

#### 6. 이후 테스트 배포 해보고, 5번 페이지에서 퍼센테이지 확인되면 끝

## Sentry

### 사전 준비

#### 1. 레포지토리 생성

#### 2. 로컬에 Clone

#### 3. `npx create-next-app@latest .` 명령어로 Next.js 앱 생성

- turbo 설정은 no

#### 4. Push

#### 5. Vercel에 배포

#### 6. Vercel CLI 설치한 적 없으면, `npm install -g vercel`

#### 7. Sentry 회원가입

#### 8. Sentry 대시보드에서 새로운 프로젝트를 생성

- Next.js 선택

### Sentry 연결

#### 1. `npx @sentry/wizard@latest -i nextjs --saas --org hayden-hn --project sample-ci-cd`

- 다 기본 값으로 엔터

#### 2.GitHub 레포지토리에 시크릿 토큰 추가

- 1번 완료 시 제공되는 SENTRY_AUTH_TOKEN를 복사 붙여넣기

#### 3. Push 해서 배포

#### 4. `주소/sentry-example-page` 접속

- 정상적으로 접속되고, 에러 생성 버튼이 확인되면 눌러본다.

#### 5. `entry.io/issues/?referrer=sidebar`

- 여기서 해당 에러 내용이 확인되면 완료이다.
